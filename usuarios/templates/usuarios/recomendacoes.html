<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Recomendações</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'assets/css/recomendacoes.css' %}">
</head>
<body>
    <header>
        <h2>Bem-vindo, {{ usuario.nome_completo }}!</h2>
        <a href="{% url 'logout' %}">Sair</a>
    </header>

    <h1>Buscar Recomendações</h1>
    <form method="get" action="{% url 'listar_recomendacoes' usuario_id=usuario_id %}">
        <label for="cidade">Nome da cidade:</label>
        <input type="text" id="cidade" name="cidade" placeholder="Digite o nome da cidade" required>
        <button type="submit">Buscar</button>
    </form>

    {% if cidade %}
        <h2>Clima em {{ cidade }}</h2>
        {% if clima %}
            <p><strong>Temperatura:</strong> {{ clima.temperatura }}°C</p>
            <p><strong>Condição:</strong> {{ clima.condicao }}</p>
            <p><strong>Umidade:</strong> {{ clima.umidade }}%</p>
            <p><strong>Vento:</strong> {{ clima.vento }} km/h</p>
        {% else %}
            <p>Não foi possível obter as informações de clima para {{ cidade }}.</p>
        {% endif %}

        <h2>Pontos Turísticos Recomendados</h2>

        <h3>Baseado nos seus Interesses</h3>
        <div class="pontos-turisticos">
            {% if recomendacoes.interesse %}
                {% for ponto in recomendacoes.interesse %}
                    <div class="ponto-turistico">
                        <h3>{{ ponto.nome }}</h3>
                        <p>{{ ponto.descricao }}</p>
                        <p><strong>Popularidade:</strong> {{ ponto.popularidade }}</p>
                        {% if ponto.imagem %}
                            <img src="{{ ponto.imagem.url }}" alt="{{ ponto.nome }}">
                        {% else %}
                            <img src="https://via.placeholder.com/200" alt="Imagem não disponível">
                        {% endif %}
                    </div>
                {% endfor %}
            {% else %}
                <p>Não foram encontrados pontos turísticos para seus interesses nesta cidade.</p>
            {% endif %}
        </div>

        <h3>Baseado nas suas Preferências Gastronômicas</h3>
        <div class="pontos-turisticos">
            {% if recomendacoes.gastronomia %}
                {% for ponto in recomendacoes.gastronomia %}
                    <div class="ponto-turistico">
                        <h3>{{ ponto.nome }}</h3>
                        <p>{{ ponto.descricao }}</p>
                        <p><strong>Popularidade:</strong> {{ ponto.popularidade }}</p>
                        {% if ponto.imagem %}
                            <img src="{{ ponto.imagem.url }}" alt="{{ ponto.nome }}">
                        {% else %}
                            <img src="https://via.placeholder.com/200" alt="Imagem não disponível">
                        {% endif %}
                    </div>
                {% endfor %}
            {% else %}
                <p>Não foram encontrados pontos turísticos com suas preferências gastronômicas nesta cidade.</p>
            {% endif %}
        </div>

        <h3>Baseado no seu Estilo Preferido</h3>
        <div class="pontos-turisticos">
            {% if recomendacoes.estilo %}
                {% for ponto in recomendacoes.estilo %}
                    <div class="ponto-turistico">
                        <h3>{{ ponto.nome }}</h3>
                        <p>{{ ponto.descricao }}</p>
                        <p><strong>Popularidade:</strong> {{ ponto.popularidade }}</p>
                        {% if ponto.imagem %}
                            <img src="{{ ponto.imagem.url }}" alt="{{ ponto.nome }}">
                        {% else %}
                            <img src="https://via.placeholder.com/200" alt="Imagem não disponível">
                        {% endif %}
                    </div>
                {% endfor %}
            {% else %}
                <p>Não foram encontrados pontos turísticos com seu estilo preferido nesta cidade.</p>
            {% endif %}
        </div>
    {% endif %}
    <footer>
        <div class="footer-content">
            <p>&copy; 2024 GuiaGo. Todos os direitos reservados.</p>
        </div>
    </footer>
</body>
</html>
